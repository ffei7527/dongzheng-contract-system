# 修复部署问题 - 文件 404 错误

## 问题诊断

访问 `assets/index-BLBVQid4.js` 返回 404，说明 GitHub Pages 没有正确部署构建后的文件。

## 解决步骤

### 步骤 1：检查 GitHub Pages 设置（最重要！）

1. **打开仓库设置**
   - 访问：https://github.com/ffei7527/dongzheng-contract-system/settings/pages

2. **检查 Source 设置**
   - **必须选择：GitHub Actions**
   - 如果显示的是 "Deploy from a branch"，需要改为 "GitHub Actions"
   - 保存设置

3. **如果 Source 已经是 GitHub Actions**
   - 检查是否有错误提示
   - 可能需要重新触发部署

### 步骤 2：检查 GitHub Actions 部署详情

1. **查看最新的部署**
   - 访问：https://github.com/ffei7527/dongzheng-contract-system/deployments
   - 点击最新的部署
   - 查看部署状态和文件列表

2. **检查 Actions 日志**
   - 进入 Actions 标签
   - 点击最新的成功运行
   - 展开 "Upload artifact" 步骤
   - 查看是否成功上传了文件
   - 展开 "Deploy to GitHub Pages" 步骤
   - 查看是否有错误

### 步骤 3：重新触发部署

如果设置正确但文件还是 404：

1. **手动触发**
   - Actions → "Deploy to GitHub Pages" → "Run workflow"
   - 选择 master 分支 → Run workflow
   - 等待完成

2. **或者推送一个空提交**
   ```bash
   git commit --allow-empty -m "重新部署"
   git push
   ```

### 步骤 4：验证部署

部署完成后（等待 2-3 分钟）：

1. **检查文件是否存在**
   - 访问：https://ffei7527.github.io/dongzheng-contract-system/assets/index-BLBVQid4.js
   - 应该能看到 JavaScript 代码，不是 404

2. **检查主页面**
   - 访问：https://ffei7527.github.io/dongzheng-contract-system/
   - 应该显示完整功能版本

## 常见问题

### Q1: GitHub Pages 设置中没有 "GitHub Actions" 选项
**A:** 
- 确保仓库是公开的（Public）
- 或者你是仓库的拥有者
- 刷新页面重试

### Q2: Actions 显示成功但文件还是 404
**A:**
- 等待 2-3 分钟让 GitHub Pages 更新
- 清除浏览器缓存
- 检查部署详情中的文件列表

### Q3: 部署一直失败
**A:**
- 查看 Actions 日志中的错误信息
- 检查 `package.json` 中的构建脚本
- 确保所有依赖都正确安装

## 快速检查清单

- [ ] GitHub Pages Source 设置为 "GitHub Actions"
- [ ] 最新的 Actions 运行显示成功（绿色 ✓）
- [ ] 部署详情中能看到文件列表
- [ ] 等待 2-3 分钟后访问文件不再 404
- [ ] 清除浏览器缓存后访问网站

